<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>什麼是 Variable Hoisting ?JavaScript 變數提升 | Cindy&#39;s blog</title>
<meta name="keywords" content="JavaScript, Hoisting">
<meta name="description" content="一邊整理JavaScript所學知識
來筆記釐清 JaveScript 在執行階段內文如何運行的思路。
什麼是 Variable Hoisting ?JavaScript 變數提升
我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。
來分解動作
在 建立期 時，會兩階段運作
註冊名稱identifier（要那個東西的名字） 1-2. 進行初始化（初始化那個東西，通常是undefined) 在 執行期 時
執行函數/賦值（動作執行，或是給值，都是這個時候） 好的，來看
var a = 1;
console.log(a);
建立期: 1. var a 1-2.undefined 執行期: a = 1 console.log(a) /印出1 那同理可知，如果是這樣呢？
console.log(a);
var a =1;
console.log(a);
會印出什麼？
答案是： undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值） 1 （已知a=1,執行出結果1） 所以同理就可以理解
if(false){
var a = 1;
}
console.log(a);
是印出 undefined
那let呢？let不會變數提升？
No No~
要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？
像是
console.log(b);">
<meta name="author" content="YuhsinTeng Cindy">
<link rel="canonical" href="https://YuHsinTengCindy.github.io/docs/variablehoisting/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://YuHsinTengCindy.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://YuHsinTengCindy.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://YuHsinTengCindy.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://YuHsinTengCindy.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://YuHsinTengCindy.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://YuHsinTengCindy.github.io/docs/variablehoisting/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://YuHsinTengCindy.github.io/docs/variablehoisting/">
  <meta property="og:site_name" content="Cindy&#39;s blog">
  <meta property="og:title" content="什麼是 Variable Hoisting ?JavaScript 變數提升">
  <meta property="og:description" content="一邊整理JavaScript所學知識
來筆記釐清 JaveScript 在執行階段內文如何運行的思路。
什麼是 Variable Hoisting ?JavaScript 變數提升
我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。
來分解動作
在 建立期 時，會兩階段運作
註冊名稱identifier（要那個東西的名字） 1-2. 進行初始化（初始化那個東西，通常是undefined) 在 執行期 時
執行函數/賦值（動作執行，或是給值，都是這個時候） 好的，來看
var a = 1;
console.log(a);
建立期: 1. var a 1-2.undefined 執行期: a = 1 console.log(a) /印出1 那同理可知，如果是這樣呢？
console.log(a);
var a =1;
console.log(a);
會印出什麼？
答案是： undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值） 1 （已知a=1,執行出結果1） 所以同理就可以理解
if(false){
var a = 1;
}
console.log(a);
是印出 undefined
那let呢？let不會變數提升？
No No~
要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？
像是
console.log(b);">
  <meta property="og:locale" content="zh-tw">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:published_time" content="2025-02-26T21:04:16+08:00">
    <meta property="article:modified_time" content="2025-02-26T21:04:16+08:00">
    <meta property="article:tag" content="JavaScript">
    <meta property="article:tag" content="Hoisting">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="什麼是 Variable Hoisting ?JavaScript 變數提升">
<meta name="twitter:description" content="一邊整理JavaScript所學知識
來筆記釐清 JaveScript 在執行階段內文如何運行的思路。
什麼是 Variable Hoisting ?JavaScript 變數提升
我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。
來分解動作
在 建立期 時，會兩階段運作
註冊名稱identifier（要那個東西的名字） 1-2. 進行初始化（初始化那個東西，通常是undefined) 在 執行期 時
執行函數/賦值（動作執行，或是給值，都是這個時候） 好的，來看
var a = 1;
console.log(a);
建立期: 1. var a 1-2.undefined 執行期: a = 1 console.log(a) /印出1 那同理可知，如果是這樣呢？
console.log(a);
var a =1;
console.log(a);
會印出什麼？
答案是： undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值） 1 （已知a=1,執行出結果1） 所以同理就可以理解
if(false){
var a = 1;
}
console.log(a);
是印出 undefined
那let呢？let不會變數提升？
No No~
要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？
像是
console.log(b);">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Docs",
      "item": "https://YuHsinTengCindy.github.io/docs/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "什麼是 Variable Hoisting ?JavaScript 變數提升",
      "item": "https://YuHsinTengCindy.github.io/docs/variablehoisting/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "什麼是 Variable Hoisting ?JavaScript 變數提升",
  "name": "什麼是 Variable Hoisting ?JavaScript 變數提升",
  "description": "一邊整理JavaScript所學知識\n來筆記釐清 JaveScript 在執行階段內文如何運行的思路。\n什麼是 Variable Hoisting ?JavaScript 變數提升\n我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。\n來分解動作\n在 建立期 時，會兩階段運作\n註冊名稱identifier（要那個東西的名字） 1-2. 進行初始化（初始化那個東西，通常是undefined) 在 執行期 時\n執行函數/賦值（動作執行，或是給值，都是這個時候） 好的，來看\nvar a = 1;\nconsole.log(a);\n建立期: 1. var a 1-2.undefined 執行期: a = 1 console.log(a) /印出1 那同理可知，如果是這樣呢？\nconsole.log(a);\nvar a =1;\nconsole.log(a);\n會印出什麼？\n答案是： undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值） 1 （已知a=1,執行出結果1） 所以同理就可以理解\nif(false){\nvar a = 1;\n}\nconsole.log(a);\n是印出 undefined\n那let呢？let不會變數提升？\nNo No~\n要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？\n像是\nconsole.log(b);",
  "keywords": [
    "JavaScript", "Hoisting"
  ],
  "articleBody": " 一邊整理JavaScript所學知識\n來筆記釐清 JaveScript 在執行階段內文如何運行的思路。\n什麼是 Variable Hoisting ?JavaScript 變數提升\n我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。\n來分解動作\n在 建立期 時，會兩階段運作\n註冊名稱identifier（要那個東西的名字） 1-2. 進行初始化（初始化那個東西，通常是undefined) 在 執行期 時\n執行函數/賦值（動作執行，或是給值，都是這個時候） 好的，來看\nvar a = 1;\nconsole.log(a);\n建立期: 1. var a 1-2.undefined 執行期: a = 1 console.log(a) /印出1 那同理可知，如果是這樣呢？\nconsole.log(a);\nvar a =1;\nconsole.log(a);\n會印出什麼？\n答案是： undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值） 1 （已知a=1,執行出結果1） 所以同理就可以理解\nif(false){\nvar a = 1;\n}\nconsole.log(a);\n是印出 undefined\n那let呢？let不會變數提升？\nNo No~\n要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？\n像是\nconsole.log(b);\nlet b = 1;\n我們來看看\n建立期 1. let b 2.進入TDZ 執行期 ❌ 出現 ReferenceError 訊息是 Cannot access 'b' before initialization 初始化之前無法存取“b” 在ES6之後加入了let/const，而let他解決了一些var會有的一些問題。\n像是如果var重複宣告，\nvar a=1\n*//然後中間寫了很多很多…*後面又寫上，\nvar a=2\n接 console.log(a)，答案是什麼？\n會是 2\n但是，如果是在有let的情況下，不小心發生這樣的狀況，它是會爆炸❌給你看的唷～ 不對的事情，就是該出現錯誤訊息。\n暫時死區（TDZ, Temporal Dead Zone）\n那TDZ暫時死區是什麼，聽起來真的好像什麼遊戲很酷的大招？\n💡可以想像，它是像是一個罩子一樣，把它覆蓋了起來。\n與 var 不同的是，let是會進入「暫時死區」（TDZ, Temporal Dead Zone），那怎麼把它罩子解開呢？ 就是到程式執行到給值它們為止。 如果在此之前訪問它們，會拋出錯誤!\n但就特別的是，如果是:\nlet a;\nconsole.log(a);\n這邊它沒有給他任何值，JS在這裡還是有退讓的。先思考有沒有let a，是有let a的，但沒有後續沒有罩子是什麼？對，就是被動的給了undefined。\n常數宣告，const\n也是跟let一樣修改了之前var這樣的錯誤。\n但留意因為const是不能重新給值的，所以如果是同狀況上面變const a;的情況，\nconst沒有任何值是不行的喔，它就是沒有任何意義。\n函式陳述式 (Function Declaration) 提升\n函式陳述式 (Function Declaration) 完整提升，名稱和內容都在建立期就準備好，所以可以提前呼叫\nsayHi();\nfunction sayHi() { console.log(“Hi!”); } 來看看 JS 怎麼運作\n建立期 1. 註冊名稱：function sayHi 2. 初始化：函式內容完整註冊（所以可以直接用） 執行期 1. 執行 sayHi() → 印出 \"Hi!\" 因為 function sayHi 在建立期時就已經被完全準備好，執行時可以直接使用！\n換句話說，這段程式其實等同於這樣： function sayHi() {\nconsole.log(“Hi!”);\n}\nsayHi();\n函式表達式 (Function Expression)\nsayHi(); // ❌TypeError: sayHi is not a function\nvar sayHi = function() { console.log(“Hi!”);\n};\n來看看 JS 怎麼運作\n建立期 1. 註冊名稱：var sayHi 2. 初始化：sayHi = undefined 執行期 1. 執行 sayHi() → ❌ TypeError（因為此時 sayHi 還是 undefined） 所以 sayHi() 在還沒賦值前就執行，會報錯\nMDN:提升（Hoisting）\n",
  "wordCount" : "213",
  "inLanguage": "en",
  "datePublished": "2025-02-26T21:04:16+08:00",
  "dateModified": "2025-02-26T21:04:16+08:00",
  "author":{
    "@type": "Person",
    "name": "YuhsinTeng Cindy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://YuHsinTengCindy.github.io/docs/variablehoisting/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Cindy's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://YuHsinTengCindy.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://YuHsinTengCindy.github.io/" accesskey="h" title="Cindy&#39;s blog (Alt + H)">Cindy&#39;s blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://YuHsinTengCindy.github.io/docs/" title="文章">
                    <span>文章</span>
                </a>
            </li>
            <li>
                <a href="https://YuHsinTengCindy.github.io/tags/" title="#Tags">
                    <span>#Tags</span>
                </a>
            </li>
            <li>
                <a href="https://YuHsinTengCindy.github.io/categories/" title="主題分類">
                    <span>主題分類</span>
                </a>
            </li>
            <li>
                <a href="https://YuHsinTengCindy.github.io/about/" title="關於">
                    <span>關於</span>
                </a>
            </li>


            
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      什麼是 Variable Hoisting ?JavaScript 變數提升
    </h1>
    <div class="post-meta"><span title='2025-02-26 21:04:16 +0800 +0800'>February 26, 2025</span>&nbsp;·&nbsp;YuhsinTeng Cindy

</div>
  </header> 
  <div class="post-content"><p><img alt="VariableHoisting" loading="lazy" src="/images/VariableHoisting.png">
一邊整理JavaScript所學知識<br>
來筆記釐清 JaveScript 在執行階段內文如何運行的思路。<br>
什麼是 Variable Hoisting ?JavaScript 變數提升<br>
我們用runtime的角度來看，它不是一口氣跑完，是分層兩階段運行，在創建期(Creation Phase)和執行期(Execution Phase)階段有不同得變化。</p>
<hr>
<p>來分解動作</p>
<p>在 <strong>建立期</strong> 時，會兩階段運作</p>
<ol>
<li>註冊名稱identifier（要那個東西的名字）
1-2. 進行初始化（初始化那個東西，通常是undefined)</li>
</ol>
<p>在 <strong>執行期</strong> 時</p>
<ol>
<li>執行函數/賦值（動作執行，或是給值，都是這個時候）</li>
</ol>
<hr>
<p>好的，來看</p>
<p>var a = 1;<br>
console.log(a);</p>
<pre tabindex="0"><code>建立期:
1. var a    1-2.undefined 
</code></pre><pre tabindex="0"><code>執行期:
a = 1
console.log(a) /印出1
</code></pre><hr>
<p>那同理可知，如果是這樣呢？</p>
<p>console.log(a);<br>
var a =1;<br>
console.log(a);</p>
<p>會印出什麼？</p>
<pre tabindex="0"><code>答案是：
undefined （第一圈已知有var a也有初始化，但第二圈執行期時先跑了他，但這邊還沒有賦值）
1         （已知a=1,執行出結果1）
</code></pre><p>所以同理就可以理解<br>
if(false){<br>
var a = 1;<br>
}<br>
console.log(a);<br>
<code>是印出 undefined</code></p>
<hr>
<p><strong>那let呢？let不會變數提升？</strong><br>
No No~<br>
要記得JS本身就是分層兩階段運行，不管怎麼寫就是兩階段運做，運行時就是會提昇，那到底為什麼會有出錯的狀況呢？</p>
<p>像是<br>
console.log(b);<br>
let b = 1;</p>
<p>我們來看看</p>
<pre tabindex="0"><code>建立期
1. let b   
2.進入TDZ
</code></pre><pre tabindex="0"><code>執行期
❌ 出現 ReferenceError
訊息是 Cannot access &#39;b&#39; before initialization
初始化之前無法存取“b”
</code></pre><p>在<strong>ES6</strong>之後加入了let/const，而let他解決了一些var會有的一些問題。</p>
<p>像是如果var重複宣告，<br>
var a=1<br>
*//然後中間寫了很多很多&hellip;*後面又寫上，<br>
var a=2<br>
接 console.log(a)，答案是什麼？<br>
<code>會是  2</code></p>
<p>但是，如果是在有let的情況下，不小心發生這樣的狀況，它是會爆炸❌給你看的唷～  不對的事情，就是該出現錯誤訊息。</p>
<hr>
<p><strong>暫時死區（TDZ, Temporal Dead Zone）</strong><br>
那TDZ暫時死區是什麼，聽起來真的好像什麼遊戲很酷的大招？<br>
&#x1f4a1;可以想像，它是像是一個罩子一樣，把它覆蓋了起來。<br>
與 var 不同的是，let是會進入「暫時死區」（TDZ, Temporal Dead Zone），那怎麼把它罩子解開呢？  就是到程式執行到給值它們為止。  <strong>如果在此之前訪問它們，會拋出錯誤!</strong></p>
<blockquote>
<p>但就特別的是，如果是:<br>
let a;<br>
console.log(a);<br>
這邊它沒有給他任何值，JS在這裡還是有退讓的。先思考有沒有let a，是有let a的，但沒有後續沒有罩子是什麼？對，就是被動的給了undefined。</p>
</blockquote>
<hr>
<p><strong>常數宣告，const</strong><br>
也是跟let一樣修改了之前var這樣的錯誤。<br>
但留意因為<strong>const是不能重新給值的</strong>，所以如果是同狀況上面變const a;的情況，<br>
const沒有任何值是不行的喔，它就是沒有任何意義。</p>
<hr>
<p><strong>函式陳述式 (Function Declaration) 提升</strong></p>
<p>函式陳述式 (Function Declaration)
完整提升，名稱和內容都在建立期就準備好，所以可以提前呼叫</p>
<p>sayHi();</p>
<p>function sayHi() {
console.log(&ldquo;Hi!&rdquo;);
}
來看看 JS 怎麼運作</p>
<pre tabindex="0"><code>建立期
1. 註冊名稱：function sayHi
2. 初始化：函式內容完整註冊（所以可以直接用）
</code></pre><pre tabindex="0"><code>執行期
1. 執行 sayHi() → 印出 &#34;Hi!&#34;
</code></pre><p>因為 function sayHi 在建立期時就已經被完全準備好，執行時可以直接使用！</p>
<p>換句話說，這段程式其實等同於這樣：
function sayHi() {<br>
console.log(&ldquo;Hi!&rdquo;);<br>
}</p>
<p>sayHi();</p>
<hr>
<p><strong>函式表達式 (Function Expression)</strong></p>
<p>sayHi(); <code>//  ❌TypeError: sayHi is not a function</code></p>
<p>var sayHi = function() { <br>
console.log(&ldquo;Hi!&rdquo;);<br>
};<br>
來看看 JS 怎麼運作</p>
<pre tabindex="0"><code>建立期
1. 註冊名稱：var sayHi
2. 初始化：sayHi = undefined
</code></pre><pre tabindex="0"><code>執行期
1. 執行 sayHi() → ❌ TypeError（因為此時 sayHi 還是 undefined）
</code></pre><p>所以 sayHi() 在還沒賦值前就執行，會報錯</p>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Glossary/Hoisting">MDN:提升（Hoisting）</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://YuHsinTengCindy.github.io/tags/javascript/">JavaScript</a></li>
      <li><a href="https://YuHsinTengCindy.github.io/tags/hoisting/">Hoisting</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://YuHsinTengCindy.github.io/">Cindy&#39;s blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
